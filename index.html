<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Talk 2Me Nice</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
<style>
:root {
  --bg-main: linear-gradient(160deg,#1b1f27 0%,#2a2f3b 100%);
  --bg-card: #2c313d;
  --accent: #ffb86c;
  --text-main: #e1e4ea;
  --text-muted: #a1a6b0;
}

/* Global */
body{margin:0;font-family:'Montserrat',sans-serif;background:var(--bg-main);color:var(--text-main);display:flex;flex-direction:column;min-height:100vh;}
h1,h3,h4{font-family:'Playfair Display',serif;margin:0;}
button,input,select{font-family:'Montserrat',sans-serif;}
.hidden{display:none;}
header{text-align:center;font-size:2rem;color:var(--accent);text-shadow:0 4px 10px rgba(0,0,0,0.35);animation:floatLogo 3s ease-in-out infinite alternate;margin:1rem 0;}
@keyframes floatLogo{0%{transform:translateY(0px);}100%{transform:translateY(-6px);}}

/* Landing Page */
#landingPage{max-width:900px;margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:1rem;}
#nicknameInput{padding:0.6rem;border-radius:12px;border:none;background:#1f232d;color:var(--text-main);width:100%;max-width:300px;}
#startBtn{padding:0.6rem 1rem;border-radius:999px;border:none;background:var(--accent);color:#1b1f27;cursor:pointer;transition:all 0.3s;width:100%;max-width:300px;}
#startBtn:hover{transform:scale(1.05);background:#ff9f40;}
#companionContainer{margin:2rem 0;display:flex;flex-direction:column;align-items:center;gap:1rem;}

/* Whisp cloud */
#whispContainer svg{width:200px;height:100px;cursor:pointer;}
.whispBody{filter:blur(3px);transition:fill 0.3s;}
.whispEye{transition:transform 0.3s;}

/* Star companion */
#star{font-size:5rem;text-shadow:0 3px 6px rgba(0,0,0,0.4),0 0 20px var(--starColor);color:var(--starColor);transition:color 0.3s,text-shadow 0.3s;cursor:pointer;animation:twinkle 2s infinite alternate;}
@keyframes twinkle{0%{transform:scale(1) rotate(0deg);}50%{transform:scale(1.1) rotate(5deg);}100%{transform:scale(1) rotate(0deg);}}

/* Chat Container */
#chatContainer{flex-direction:row;display:flex;gap:1rem;max-width:900px;margin:2rem auto;animation:fadeIn 0.8s ease-out;}
#profileSidebar{width:220px;padding:1rem;background:var(--bg-card);border-radius:16px;flex-shrink:0;display:flex;flex-direction:column;gap:1rem;box-shadow:0 6px 16px rgba(0,0,0,0.3);}
#chatArea{flex:1;display:flex;flex-direction:column;background:var(--bg-card);border-radius:16px;padding:1rem;box-shadow:0 6px 16px rgba(0,0,0,0.25);}
.message{max-width:75%;padding:0.8rem 1.2rem;margin-bottom:0.7rem;border-radius:20px;line-height:1.5;opacity:0;animation:fadeInMessage 0.5s forwards;}
.user{background:var(--accent);color:#1b1f27;align-self:flex-end;}
.bot{background:var(--bg-card);align-self:flex-start;}
footer{display:flex;flex-wrap:wrap;align-items:center;padding:0.8rem;gap:0.5rem;position:sticky;bottom:0;background:var(--bg-card);}
footer input{flex:1;padding:0.6rem;border-radius:12px;border:none;background:#1f232d;color:var(--text-main);}
footer button{padding:0.6rem 1rem;border-radius:999px;border:none;background:var(--accent);cursor:pointer;transition:all 0.3s;}
footer button:hover{transform:scale(1.05);background:#ff9f40;}

/* Settings Panel */
#settingsPanel{position:absolute;top:50px;right:20px;background:var(--bg-card);padding:1rem;border-radius:14px;width:250px;box-shadow:0 4px 12px rgba(0,0,0,0.5);display:none;}
#settingsPanel h4{margin-top:0;color:var(--accent);}
#settingsPanel label{display:flex;align-items:center;justify-content:space-between;margin-bottom:0.6rem;gap:0.5rem;}

/* Dropdown */
select{padding:0.5rem;border-radius:12px;border:none;background:#1f232d;color:var(--text-main);width:100%;}

/* Animations */
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
@keyframes fadeInMessage{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
</style>
</head>
<body>

<header>üéà Talk 2Me Nice</header>

<!-- Landing Page -->
<div id="landingPage">
  <input id="nicknameInput" placeholder="Enter your nickname" />
  <div id="companionContainer">
    <div id="whispContainer">
      <svg viewBox="0 0 200 100">
        <ellipse cx="50" cy="50" rx="50" ry="30" fill="#a8e6cf" class="whispBody"/>
        <ellipse cx="90" cy="40" rx="40" ry="25" fill="#a8e6cf" class="whispBody"/>
        <circle cx="40" cy="45" r="5" fill="#fff" class="whispEye"/>
        <circle cx="70" cy="50" r="5" fill="#fff" class="whispEye"/>
      </svg>
      <input type="color" id="whispColorPicker" value="#a8e6cf" title="Choose Whisp color"/>
    </div>
    <div id="starContainer">
      <div id="star" style="--starColor:#ffd700;">‚≠ê</div>
      <input type="color" id="starColorPicker" value="#ffd700" title="Choose Star color"/>
    </div>
  </div>
  <button id="startBtn">Start Chat</button>
</div>

<!-- Chat Container -->
<div id="chatContainer" class="hidden">
  <div id="profileSidebar">
    <div class="profileInfo">
      <p>üë§ <strong id="profileName"></strong></p>
      <p>üåç <span id="profileLanguage"></span></p>
      <p>üßö <span id="profileCompanion"></span></p>
    </div>
    <button id="settingsBtn">‚öôÔ∏è Options</button>
    <div id="settingsPanel">
      <h4>Conversation Starter</h4>
      <select id="starterDropdown" onchange="startStarter()">
        <option value="">-- Select Starter --</option>
      </select>
      <h4>Voice Settings</h4>
      <label><input type="checkbox" id="voiceOutputToggle" checked> Voice replies</label>
      <label><input type="checkbox" id="voiceInputToggle" checked> Voice input</label>
      <label>Speech speed
        <select id="voiceSpeed">
          <option value="0.9">Slow</option>
          <option value="1" selected>Normal</option>
          <option value="1.1">Fast</option>
        </select>
      </label>
    </div>
  </div>
  <div id="chatArea">
    <div id="chat"></div>
  </div>
</div>

<footer class="hidden">
  <input id="userInput" placeholder="Type a message‚Ä¶" />
  <button id="micBtn">üé§</button>
  <button onclick="sendMessage()">Send</button>
  <a href="#privacy" onclick="alert('Privacy page placeholder')">Privacy</a>
  <a href="#support" onclick="alert('Support page placeholder')">Support</a>
</footer>

<script>
// Companion color pickers
document.getElementById("whispColorPicker").oninput=(e)=>{
  document.querySelectorAll(".whispBody").forEach(el=>el.setAttribute("fill",e.target.value));
};
document.getElementById("starColorPicker").oninput=(e)=>{
  document.getElementById("star").style.setProperty('--starColor',e.target.value);
};

// Landing page start
document.getElementById("startBtn").onclick=()=>{
  const nick=document.getElementById("nicknameInput").value.trim();
  if(!nick){alert("Enter a nickname");return;}
  localStorage.setItem("nickname",nick);
  document.getElementById("landingPage").classList.add("hidden");
  document.getElementById("chatContainer").classList.remove("hidden");
  document.querySelector("footer").classList.remove("hidden");
  document.getElementById("profileName").textContent=nick;
  document.getElementById("profileLanguage").textContent=localStorage.getItem("language")||"en-US";
  document.getElementById("profileCompanion").textContent="Whisp";
  populateStarters();
};

// Settings panel toggle
document.getElementById("settingsBtn").onclick=()=>{ 
  const panel=document.getElementById("settingsPanel");
  panel.style.display=(panel.style.display==="none"||panel.style.display==="")?"block":"none";
};

// Conversation starters (daily)
const conversationStarters={
  "Workplace":["Good morning! How's your day starting?","Hi! Did you catch the latest project update?","Evening! Ready to wrap things up?"],
  "Dating":["Hi there! Would you like to grab coffee?","Hey! Want to take a walk this afternoon?","Hello! How was your day today?"],
  "Travel":["Hi! Where is the nearest train station?","Have you explored anywhere new?","Planning your next trip?"],
  "School":["Hello! How was class today?","Do you need help with homework?","Ready to study something new?"],
  "Advanced":["Hello! Did you see the game yesterday?","What‚Äôs your take on the news today?","Any interesting book you‚Äôre reading?"]
};
function getDailyStarter(category){
  const today=new Date().toDateString();
  const key=`starter_${category}`;
  let stored=JSON.parse(localStorage.getItem(key))||{};
  if(stored.date===today&&stored.phrase)return stored.phrase;
  const options=conversationStarters[category];
  const phrase=options[Math.floor(Math.random()*options.length)];
  localStorage.setItem(key,JSON.stringify({date:today,phrase}));
  return phrase;
}
function populateStarters(){
  const dd=document.getElementById("starterDropdown");
  dd.innerHTML=`<option value="">-- Select Starter --</option>`;
  Object.keys(conversationStarters).forEach(cat=>{
    const phrase=getDailyStarter(cat);
    const opt=document.createElement("option");
    opt.value=phrase; opt.textContent=`${cat}: ${phrase}`;
    dd.appendChild(opt);
  });
}
function startStarter(){ const val=document.getElementById("starterDropdown").value; if(val) sendMessage(val); }

// Chat logic
const chat=document.getElementById("chat");
function addMessage(text,sender){
  const div=document.createElement("div");
  div.className=`message ${sender}`;
  div.textContent=text;
  chat.appendChild(div);
  chat.scrollTop=chat.scrollHeight;
}
async function sendMessage(msg=null){
  const input=document.getElementById("userInput");
  const text=msg||input.value.trim();
  if(!text) return;
  addMessage(text,"user");
  input.value="";
  // Placeholder bot response
  setTimeout(()=>addMessage(`Echo: ${text}`,"bot"),500);
}
</script>
</body>
</html>
