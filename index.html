<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Talk 2Me Nice ‚Äî Chat</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
<style>
:root {
  --bg-main: linear-gradient(160deg, #1b1f27 0%, #2a2f3b 100%);
  --bg-card: #2c313d;
  --accent: #ffb86c;
  --text-main: #e1e4ea;
  --text-muted: #a1a6b0;
}

body {
  margin:0;
  font-family:'Montserrat', system-ui,sans-serif;
  background: var(--bg-main);
  color: var(--text-main);
  display:flex;
  flex-direction:column;
  min-height:100vh;
}

/* Chat container */
#chatContainer {
  display:flex;
  max-width:900px;
  margin:2rem auto;
  gap:1rem;
  flex:1;
  animation: fadeIn 0.8s ease-out;
}

/* Profile Sidebar */
#profileSidebar {
  width:220px;
  padding:1rem;
  background:var(--bg-card);
  border-radius:16px;
  flex-shrink:0;
  display:flex;
  flex-direction:column;
  gap:1rem;
  box-shadow:0 6px 16px rgba(0,0,0,0.3);
}
#profileSidebar h3 { margin:0; font-size:1rem; color:#ffb86c; text-align:center; }
#profileSidebar p { margin:0; font-size:0.85rem; color:var(--text-muted); text-align:center; }

#chatArea {
  flex:1;
  display:flex;
  flex-direction:column;
  background:#242833;
  border-radius:16px;
  padding:1rem;
  overflow-y:auto;
}

/* Messages */
.message {
  max-width:75%;
  padding:0.8rem 1.2rem;
  margin-bottom:0.7rem;
  border-radius:20px;
  line-height:1.5;
  opacity:0;
  animation: fadeInMessage 0.5s forwards;
}
.user { background:var(--accent); color:#1b1f27; align-self:flex-end; }
.bot { background:var(--bg-card); align-self:flex-start; }

/* Conversation packs */
#packs {
  display:flex;
  flex-wrap:wrap;
  gap:0.5rem;
  justify-content:center;
  margin-bottom:1rem;
}
.packButton {
  background:#1f232d;
  color:var(--text-main);
  border:1px solid var(--accent);
  padding:0.5rem 0.8rem;
  border-radius:12px;
  cursor:pointer;
  transition:0.2s;
}
.packButton:hover { background:var(--accent); color:#1b1f27; transform:scale(1.05); }

/* Input area */
#inputArea {
  display:flex;
  padding:0.8rem;
  gap:0.5rem;
}
#userInput {
  flex:1;
  padding:0.6rem;
  border-radius:12px;
  border:none;
  background:#1f232d;
  color:var(--text-main);
}
button.sendBtn {
  padding:0.6rem 1rem;
  border-radius:999px;
  border:none;
  background:var(--accent);
  cursor:pointer;
  transition:all 0.3s ease;
}
button.sendBtn:hover { transform:scale(1.05); background:#ff9f40; }

/* Animations */
@keyframes fadeInMessage { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
@keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
@keyframes floatCompanion { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-6px);} }

/* Gear */
#gear { 
  position:fixed;
  bottom:90px; right:20px;
  width:44px; height:44px;
  border-radius:50%;
  background:var(--bg-card);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  font-size:20px;
  box-shadow:0 4px 12px rgba(0,0,0,0.3);
  animation: floatCompanion 4s ease-in-out infinite;
}

/* Options panel */
#options {
  position:fixed;
  bottom:150px; right:20px;
  background:var(--bg-card);
  padding:1rem;
  border-radius:16px;
  width:260px;
  display:none;
}
#options label { display:flex; align-items:center; gap:0.5rem; font-size:0.85rem; }
</style>
</head>
<body>

<div id="chatContainer">

  <!-- Profile Sidebar -->
  <div id="profileSidebar">
    <h3 id="profileName"></h3>
    <p id="profileLanguage"></p>
    <p id="profileCompanion"></p>
    <div id="packs">
      <div class="packButton" onclick="startPack('Workplace Conversations')">Workplace</div>
      <div class="packButton" onclick="startPack('Dating & Social')">Dating & Social</div>
      <div class="packButton" onclick="startPack('Travel')">Travel</div>
      <div class="packButton" onclick="startPack('Advanced Small Talk')">Small Talk</div>
    </div>
  </div>

  <!-- Chat Area -->
  <div id="chatArea"></div>
</div>

<!-- Input -->
<div id="inputArea">
  <input id="userInput" placeholder="Type a word or phrase‚Ä¶" />
  <button class="sendBtn" onclick="sendMessage()">Send</button>
</div>

<!-- Gear / Options -->
<div id="gear" onclick="toggleOptions()">‚öôÔ∏è</div>
<div id="options">
  <label><input type="checkbox" id="phoneticToggle"/> Pronunciation mode</label>
</div>

<script>
const nickname = localStorage.getItem("nickname") || "Friend";
const language = localStorage.getItem("language") || "en-US";
const companion = localStorage.getItem("companion") || "Whisp";

document.getElementById("profileName").textContent = nickname;
document.getElementById("profileLanguage").textContent = `Language: ${language}`;
document.getElementById("profileCompanion").textContent = `Companion: ${companion}`;

const chatArea = document.getElementById("chatArea");

function speak(text){
  const u=new SpeechSynthesisUtterance(text);
  u.lang=language;
  speechSynthesis.speak(u);
}

function addMessage(text,sender){
  const div=document.createElement("div");
  div.className=`message ${sender}`;
  div.textContent=text;
  chatArea.appendChild(div);
  chatArea.scrollTop = chatArea.scrollHeight;
}

function sendMessage(){
  const input = document.getElementById("userInput");
  if(!input.value.trim()) return;
  addMessage(input.value, "user");
  input.value = "";
  setTimeout(()=>addMessage("Tap a word for pronunciation üíõ", "bot"), 400);
}

function toggleOptions(){
  const options=document.getElementById("options");
  options.style.display = options.style.display==="block"?"none":"block";
}

/* Conversation Packs */
const conversationPresets = {
  "Workplace Conversations": ["Hello, how are you?", "Good morning!", "Let's schedule a meeting."],
  "Dating & Social": ["Hi! How was your day?", "Do you want to grab coffee?", "I like your smile!"],
  "Travel": ["Where is the nearest hotel?", "Can you recommend a restaurant?", "What time does the train leave?"],
  "Advanced Small Talk": ["Nice weather today, isn't it?", "Did you watch the game last night?", "Any plans for the weekend?"]
};

function startPack(packName){
  const phrases = conversationPresets[packName];
  phrases.forEach(p => addMessage(p, "bot"));
  addMessage(`You're exploring: ${packName} üíõ`, "bot");
}
</script>

</body>
</html>
