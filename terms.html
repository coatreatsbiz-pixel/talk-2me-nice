<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Talk 2Me Nice</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
<style>
:root {
  --bg-main: linear-gradient(160deg, #1b1f27 0%, #2a2f3b 100%);
  --bg-card: #2c313d;
  --accent: #ffb86c;
  --text-main: #e1e4ea;
  --text-muted: #a1a6b0;
}

/* Base styles */
body { margin:0; font-family:'Montserrat',sans-serif; background: var(--bg-main); color: var(--text-main); display:flex; flex-direction:column; min-height:100vh; }
h1,h3,h4 { font-family:'Playfair Display', serif; margin:0; }
button { font-family:'Montserrat',sans-serif; cursor:pointer; }
.hidden { display:none; }

/* Landing Page */
#landingPage { max-width:500px; margin:4rem auto; text-align:center; }
#landingPage h1 { font-size:2.5rem; color:var(--accent); margin-bottom:1rem; }
#landingPage input { padding:0.6rem; border-radius:12px; border:none; background:#1f232d; color:var(--text-main); margin-bottom:1rem; width:100%; }
#landingPage button { padding:0.8rem 1.2rem; border-radius:999px; border:none; background: var(--accent); color:#1b1f27; font-weight:600; width:100%; transition:0.3s; }
#landingPage button:hover { transform:scale(1.05); background:#ff9f40; }

/* Companion Selector */
#companionSelector { margin-top:1.5rem; }
.companionGrid { display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:1rem; }
.companionCard { background: var(--bg-card); border-radius:16px; padding:1rem; transition:0.3s; border:2px solid transparent; text-align:center; }
.companionCard h4 { margin-bottom:0.3rem; }
.companionCard p { font-size:0.8rem; color:var(--text-muted); margin:0.2rem 0; }
.companionCard small.preview { display:block; font-size:0.7rem; color:var(--text-muted); font-style:italic; }
.companionCard:hover { transform:translateY(-3px); box-shadow:0 6px 16px rgba(0,0,0,0.4); }
.companionCard.active { border-color:var(--accent); box-shadow:0 0 0 2px rgba(255,184,108,0.25); }

/* Chat Container */
#chatContainer { display:flex; flex-direction:row; max-width:900px; margin:2rem auto; gap:1rem; animation:fadeIn 0.8s ease-out; }
#profileSidebar { width:220px; padding:1rem; background: var(--bg-card); border-radius:16px; flex-shrink:0; display:flex; flex-direction:column; gap:1rem; box-shadow:0 6px 16px rgba(0,0,0,0.3); position:relative;}
#gearIcon { position:absolute; top:1rem; right:1rem; cursor:pointer; font-size:1.2rem; color:var(--accent); }
#starterDropdown { width:100%; padding:0.5rem; border-radius:12px; border:none; background:#1f232d; color:var(--text-main); margin-bottom:1rem; }

/* Companion Display */
#companionDisplay { flex:1; display:flex; align-items:center; justify-content:center; position:relative; }
.companionSVG { width:180px; height:180px; transition:0.3s; }
@keyframes float { 0%{transform:translateY(0);}50%{transform:translateY(-6px);}100%{transform:translateY(0);} }
.companionSVG { animation:float 3s ease-in-out infinite; }

/* Chat Area */
#chatArea { flex:2; display:flex; flex-direction:column; background: var(--bg-card); border-radius:16px; padding:1rem; box-shadow:0 6px 16px rgba(0,0,0,0.25); }
#chat { flex:1; overflow-y:auto; margin-bottom:0.5rem; }
.message { max-width:75%; padding:0.8rem 1.2rem; margin-bottom:0.7rem; border-radius:20px; line-height:1.5; opacity:0; animation:fadeInMessage 0.5s forwards; }
.user { background:var(--accent); color:#1b1f27; align-self:flex-end; }
.bot { background:var(--bg-card); align-self:flex-start; }

/* Footer */
footer { display:flex; padding:0.6rem; gap:0.5rem; align-items:center; background:var(--bg-main); position:sticky; bottom:0; }
footer input { flex:1; padding:0.6rem; border-radius:12px; border:none; background:#1f232d; color:var(--text-main); }
footer button { padding:0.6rem 1rem; border-radius:999px; border:none; background: var(--accent); cursor:pointer; transition:0.3s; }
footer button:hover { transform:scale(1.05); background:#ff9f40; }
footer a { color:var(--accent); text-decoration:none; font-size:0.85rem; }

/* Options Panel */
#optionsPanel { display:none; flex-direction:column; gap:0.8rem; background:#1f232d; padding:0.8rem; border-radius:14px; }
#optionsPanel label { display:flex; justify-content:space-between; font-size:0.85rem; color:var(--text-main); }

/* Onboarding Overlay */
#onboarding {position:fixed; inset:0; background: rgba(0,0,0,0.65); display:flex; align-items:center; justify-content:center; z-index:999;}
.onboardCard {background: var(--bg-card); padding:2rem; border-radius:18px; max-width:360px; text-align:center;}
.onboardCard h3 {color:var(--accent); margin-bottom:0.5rem;}
.onboardCard button {margin-top:1rem; padding:0.6rem 1.4rem; border-radius:999px; border:none; background: var(--accent); cursor:pointer; }

/* Keyframes */
@keyframes fadeIn { from{opacity:0;} to{opacity:1;} }
@keyframes fadeInMessage { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
</style>
</head>
<body>

<!-- Landing Page -->
<div id="landingPage">
  <h1>Talk 2Me Nice</h1>
  <input id="nicknameInput" placeholder="Enter your nickname" />
  <div id="companionSelector">
    <h3>Choose Your Companion</h3>
    <div class="companionGrid">
      <div class="companionCard" data-companion="Whisp"><h4>Whisp</h4><p>Gentle, supportive</p><small>‚ÄúI‚Äôm here with you.‚Äù</small></div>
      <div class="companionCard" data-companion="Robot"><h4>Robot</h4><p>Smart, playful</p><small>‚ÄúReady to assist!‚Äù</small></div>
      <div class="companionCard" data-companion="Star"><h4>Star</h4><p>Bright, energetic</p><small>‚ÄúLet‚Äôs shine together!‚Äù</small></div>
      <div class="companionCard" data-companion="Cloud"><h4>Cloud</h4><p>Calm, soft</p><small>‚ÄúFloating with you.‚Äù</small></div>
    </div>
  </div>
  <button onclick="startChat()">Start Chat</button>
</div>

<!-- Chat Container -->
<div id="chatContainer" class="hidden">
  <div id="profileSidebar">
    <div id="gearIcon" onclick="toggleOptions()">‚öôÔ∏è</div>
    <div class="profileInfo">
      <p>üë§ <strong id="profileName"></strong></p>
      <p>üåç <span id="profileLanguage"></span></p>
      <p>üßö <span id="profileCompanion"></span></p>
    </div>
    <hr>
    <p>Conversation Starter</p>
    <select id="starterDropdown" onchange="startStarter()">
      <option value="">-- Select Starter --</option>
    </select>
    <div id="optionsPanel">
      <label>Voice Output <input type="checkbox" id="voiceOutputToggle" checked></label>
      <label>Voice Input <input type="checkbox" id="voiceInputToggle" checked></label>
      <label>Speech Speed
        <select id="voiceSpeed">
          <option value="0.9">Slow</option>
          <option value="1" selected>Normal</option>
          <option value="1.1">Fast</option>
        </select>
      </label>
      <label>Language
        <select id="languageSelect">
          <option value="en-US">English</option>
          <option value="es-ES">Spanish</option>
          <option value="fr-FR">French</option>
        </select>
      </label>
      <label>Tone
        <select id="toneSelect">
          <option value="friendly">Friendly</option>
          <option value="formal">Formal</option>
          <option value="playful">Playful</option>
        </select>
      </label>
      <label>Companion Color <input type="color" id="compColor" value="#ffb86c"></label>
    </div>
  </div>

  <div id="companionDisplay">
    <svg class="companionSVG" id="companionSVG" viewBox="0 0 200 200"></svg>
  </div>

  <div id="chatArea">
    <div id="chat"></div>
  </div>
</div>

<footer class="hidden">
  <input id="userInput" placeholder="Type a message‚Ä¶" />
  <button id="micBtn" onclick="startSpeechToSpeech()">üé§</button>
  <button onclick="sendMessage()">Send</button>
  <a href="#" onclick="returnToChat()">Privacy</a> | <a href="#" onclick="returnToChat()">Support</a>
</footer>

<div id="onboarding" class="hidden">
  <div class="onboardCard">
    <h3>Welcome to Talk 2Me Nice</h3>
    <p>Your companion can speak and listen.</p>
    <p>You can change companions, voice, language, and tone anytime.</p>
    <button onclick="finishOnboarding()">Let‚Äôs go</button>
  </div>
</div>

<script>
// ---------------- COMPANIONS ----------------
const companions = {
  Whisp:{name:"Whisp", voice:{input:true,output:true}, expression:{eyes:0.5,mouth:0.5}},
  Robot:{name:"Robot", voice:{input:true,output:true}, expression:{eyes:0.5,mouth:0.5}},
  Star:{name:"Star", voice:{input:true,output:true}, expression:{eyes:0.5,mouth:0.5}},
  Cloud:{name:"Cloud", voice:{input:true,output:true}, expression:{eyes:0.5,mouth:0.5}}
};
const companionCards = document.querySelectorAll(".companionCard");
let activeCompanion="Whisp";

// ---------------- LANDING ----------------
function setActiveCompanion(id){
  companionCards.forEach(c=>c.classList.remove("active"));
  document.querySelector(`.companionCard[data-companion='${id}']`)?.classList.add("active");
  activeCompanion=id;
  localStorage.setItem("companion",id);
  renderCompanion();
}
companionCards.forEach(c=>c.addEventListener("click",()=>setActiveCompanion(c.dataset.companion)));

function startChat(){
  const nickname=document.getElementById("nicknameInput").value.trim();
  if(!nickname){ alert("Enter nickname"); return; }
  localStorage.setItem("nickname",nickname);
  document.getElementById("landingPage").classList.add("hidden");
  document.getElementById("chatContainer").classList.remove("hidden");
  document.querySelector("footer").classList.remove("hidden");
  document.getElementById("profileName").textContent=nickname;
  document.getElementById("profileLanguage").textContent=document.getElementById("languageSelect").value;
  document.getElementById("profileCompanion").textContent=activeCompanion;
  populateStarters();
  renderCompanion();
  dailyStarter();
  checkOnboarding();
}

// ---------------- COMPANION RENDER ----------------
function renderCompanion(){
  const svg=document.getElementById("companionSVG");
  const color=document.getElementById("compColor")?.value || "#ffb86c";
  svg.innerHTML="";
  switch(activeCompanion){
    case "Whisp":
      svg.innerHTML=`<ellipse cx="100" cy="100" rx="70" ry="50" fill="${color}" />`; break;
    case "Cloud":
      svg.innerHTML=`<circle cx="70" cy="100" r="30" fill="${color}" /><circle cx="100" cy="80" r="40" fill="${color}" /><circle cx="130" cy="100" r="30" fill="${color}" />`; break;
    case "Star":
      svg.innerHTML=`<polygon points="100,20 120,80 180,80 130,120 150,180 100,140 50,180 70,120 20,80 80,80" fill="${color}"/>`; break;
    case "Robot":
      svg.innerHTML=`<rect x="60" y="60" width="80" height="80" rx="10" fill="${color}" />`; break;
  }
}
document.getElementById("compColor")?.addEventListener("input",renderCompanion);

// ---------------- DAILY STARTER ----------------
const conversationStarters={
  "Workplace":[`How's work today?`,`Got a meeting today?`,`Any updates?`],
  "Dating":[`Hi, fancy a coffee?`,`Want to go for a walk?`,`How was your day?`],
  "Travel":[`Where are we off today?`,`Have you packed?`,`Ready for adventure?`],
  "School":[`Need help with homework?`,`How was class today?`,`Any tests today?`],
  "SmallTalk":[`Did you see the game yesterday?`,`How‚Äôs the weather?`,`Any plans today?`]
};
function dailyStarter(){
  const dd=document.getElementById("starterDropdown");
  dd.innerHTML=`<option value="">-- Select Starter --</option>`;
  const today=new Date().getDate();
  Object.keys(conversationStarters).forEach(cat=>{
    const phrases=conversationStarters[cat];
    const index=today % phrases.length;
    const opt=document.createElement("option");
    opt.value=phrases[index]; opt.textContent=`${cat}: ${phrases[index]}`;
    dd.appendChild(opt);
  });
}
function startStarter(){
  const val=document.getElementById("starterDropdown").value;
  if(val) sendMessage(val);
}

// ---------------- CHAT ----------------
const chat=document.getElementById("chat");
function addMessage(text,sender){
  const div=document.createElement("div");
  div.className=`message ${sender}`;
  div.textContent=text;
  chat.appendChild(div);
  chat.scrollTop=chat.scrollHeight;
}
async function sendMessage(msg=null){
  const input=document.getElementById("userInput");
  const text=msg||input.value.trim();
  if(!text) return;
  addMessage(text,"user");
  input.value="";
  // AI placeholder with multilingual tone
  const lang=document.getElementById("languageSelect").value;
  const tone=document.getElementById("toneSelect").value;
  const botResp=`[${activeCompanion} | ${tone} | ${lang}]: ${text}`;
  addMessage(botResp,"bot");
}

// ---------------- ONBOARDING ----------------
function checkOnboarding(){
  if(!localStorage.getItem("onboardDone")) document.getElementById("onboarding").classList.remove("hidden");
}
function finishOnboarding(){
  localStorage.setItem("onboardDone","1");
  document.getElementById("onboarding").classList.add("hidden");
}

// ---------------- OPTIONS ----------------
function toggleOptions(){
  const panel=document.getElementById("optionsPanel");
  panel.style.display=(panel.style.display==="flex"?"none":"flex");
}

// ---------------- SPEECH ----------------
function startSpeechToSpeech(){ alert("Speech-to-speech triggered (placeholder)"); }
function returnToChat(){ alert("Returning to chat (placeholder)"); }
</script>
</body>
</html>
